{{define "search"}}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="static/style.css">
    <link rel="stylesheet" href="static/search.css">
    <script src="static/script.js"></script>
    <title>Search page</title>
</head>

<body>
    <header>
        <nav>
            <a href="/home" id="home-link">
                <img src="static/img/logo.png" alt="Home">
            </a>
            <form action="/search" method="GET">
                <div class="input-container">
                    <input type="text" name="query" id="query" class="input" placeholder="search...">
                    <span class="icon">
                        <svg width="19px" height="19px" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                            <g id="SVGRepo_iconCarrier">
                                <path opacity="1" d="M14 5H20" stroke="#000" stroke-width="1.5" stroke-linecap="round"
                                    stroke-linejoin="round"></path>
                                <path opacity="1" d="M14 8H17" stroke="#000" stroke-width="1.5" stroke-linecap="round"
                                    stroke-linejoin="round"></path>
                                <path d="M21 11.5C21 16.75 16.75 21 11.5 21C6.25 21 2 16.75 2 11.5C2 6.25 6.25 2 11.5 2"
                                    stroke="#000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                </path>
                                <path opacity="1" d="M22 22L20 20" stroke="#000" stroke-width="3.5"
                                    stroke-linecap="round" stroke-linejoin="round"></path>
                            </g>
                        </svg>
                    </span>
                </div>
            </form>
            <ul>
                <li class="dropdown">
                    <a href="/categories">Dropdown 1</a>
                    <div class="dropdown-content">
                        <a href="/categorie?id=31">Adventure</a>
                        <a href="/categorie?id=33">Arcade</a>
                        <a href="/categorie?id=35">Card & Board Game </a>
                        <a href="/categorie?id=4">Fighting</a>
                        <a href="/categorie?id=25">Hack and slash/Beat'em up</a>
                        <a href="/categorie?id=32">Indie </a>
                        <a href="/categorie?id=36">MOBA</a>
                        <a href="/categorie?id=7">Music</a>
                        <a href="/categorie?id=30">Pinball </a>
                        <a href="/categorie?id=8">Platform</a>
                        <a href="/categorie?id=2">Point-and-click</a>
                        <a href="/categorie?id=9">Puzzle </a>
                        <a href="/categorie?id=26">Quiz/Trivia</a>
                        <a href="/categorie?id=10">Racing</a>
                        <a href="/categorie?id=11">Real Time Strategy (RTS) </a>
                        <a href="/categorie?id=12">Role-playing (RPG)</a>
                        <a href="/categorie?id=5">Shooter</a>
                        <a href="/categorie?id=13">Simulator </a>
                        <a href="/categorie?id=14">Sport</a>
                        <a href="/categorie?id=15">Strategy</a>
                        <a href="/categorie?id=24">Tactical </a>
                        <a href="/categorie?id=16">Turn-based strategy (TBS)</a>
                        <a href="/categorie?id=34">Visual Novel </a>
                    </div>
                </li>
                <li class="dropdown">
                    <a href="#">Dropdown 2</a>
                    <div class="dropdown-content">
                        <a href="#">Item 1</a>
                        <a href="#">Item 2</a>
                        <a href="#">Item 3</a>
                    </div>
                </li>
                <li class="dropdown">
                    <a href="#">Dropdown 3</a>
                    <div class="dropdown-content">
                        <a href="#">Item 1</a>
                        <a href="#">Item 2</a>
                        <a href="#">Item 3</a>
                    </div>
                </li>
                {{if .Logged}}
                <li class="dropdown">
                    <a href="/dashboard">Dashboard</a>
                    <div class="dropdown-content">
                        <a href="/favPage">Favorites</a>
                        <a href="/gestion">Account</a>
                    </div>
                </li>
                {{end}}
            </ul>
            {{if .Logged}}
            <a class="h-link" href="/logout">
                <button>
                    <span> Logout
                    </span>
                </button>
            </a>
            {{else}}
            <a class="h-link" href="/login">
                <button>
                    <span> Login
                    </span>
                </button> {{end}}</a>
        </nav>
    </header>
    <section>
        <div class="container">
            <form id="tagForm" method="POST">
                <div class="tags">
                    <div>
                        <label><input type="checkbox" name="tags[]" value="31"> Adventure</label><br>
                        <label><input type="checkbox" name="tags[]" value="33"> Arcade</label><br>
                        <label><input type="checkbox" name="tags[]" value="35"> Card & Board Game</label><br>
                    </div>
                    <div>
                        <label><input type="checkbox" name="tags[]" value="4"> Fighting</label><br>
                        <label><input type="checkbox" name="tags[]" value="25"> Hack and slash/Beat 'em up</label><br>
                        <label><input type="checkbox" name="tags[]" value="32"> Indie</label><br>
                    </div>
                    <div>
                        <label><input type="checkbox" name="tags[]" value="36"> MOBA</label><br>
                        <label><input type="checkbox" name="tags[]" value="7"> Music</label><br>
                        <label><input type="checkbox" name="tags[]" value="30"> Pinball</label><br>
                    </div>
                    <div>
                        <label><input type="checkbox" name="tags[]" value="8"> Platform</label><br>
                        <label><input type="checkbox" name="tags[]" value="2"> Point-and-click</label><br>
                        <label><input type="checkbox" name="tags[]" value="9"> Puzzle</label><br>
                    </div>
                    <div>
                        <label><input type="checkbox" name="tags[]" value="26"> Quiz/Trivia</label><br>
                        <label><input type="checkbox" name="tags[]" value="10"> Racing</label><br>
                        <label><input type="checkbox" name="tags[]" value="11"> Real Time Strategy (RTS)</label><br>
                    </div>
                    <div>
                        <label><input type="checkbox" name="tags[]" value="12"> Role-playing (RPG)</label><br>
                        <label><input type="checkbox" name="tags[]" value="5"> Shooter</label><br>
                        <label><input type="checkbox" name="tags[]" value="13"> Simulator</label><br>
                    </div>
                    <div>
                        <label><input type="checkbox" name="tags[]" value="14"> Sport</label><br>
                        <label><input type="checkbox" name="tags[]" value="15"> Strategy</label><br>
                        <label><input type="checkbox" name="tags[]" value="24"> Tactical</label><br>
                    </div>
                    <div>
                        <label><input type="checkbox" name="tags[]" value="16"> Turn-based strategy (TBS)</label><br>
                        <label><input type="checkbox" name="tags[]" value="34"> Visual Novel</label><br>
                    </div>
                </div>
                <button type="button" class="confirm-button" onclick="submitForm()">Confirm</button>
            </form>
            <div class="games">
                {{if .SearchResult}}
                {{range .SearchResult}}
                <a href="/game?id={{.ID}}">
                    <div class="game-item">
                        {{if .CoverLink}}
                        <img src="{{.CoverLink}}" alt="{{.CoverLink}}">
                        {{else}}
                        <img src="static/img/Picture_Not_Yet_Available.png" alt="Picture Not Yet Available">
                        {{end}}
                        <div class="indexText">
                            <div class="indexName">{{.Name}}</div>
                            <div class="indexGenre">{{join .GenresString " "}}</div>
                        </div>
                    </div>
                </a>
                {{end}}
                {{else}}
                <div class="column">
                    <div class="nogame"></div>
                    <iframe src="https://chromedino.com/" width="100%" height="50%"></iframe>
                </div>
                {{end}}
            </div>
            <nav aria-label="Page navigation">
                <ul class="pagination justify-content-center" id="pagination">
                    {{if gt .Pagination.Page 1}}
                    <li class="page-item">
                        <a class="page-link"
                            href="?query={{.Pagination.Query}}&page={{.Pagination.PrevPage}}">Previous</a>
                    </li>
                    {{end}}
                    {{if eq .Pagination.TotalPages 1}}
                    <li class="page-item active">
                        <a class="page-link" href="?query={{.Pagination.Query}}&page=1">1</a>
                    </li>
                    {{else}}
                    <div id="pagination"></div>
                    {{end}}
                    {{if lt .Pagination.Page .Pagination.TotalPages}} <li class="page-item">
                        <a class="page-link" href="?query={{.Pagination.Query}}&page={{.Pagination.NextPage}}">Next</a>
                    </li>
                    {{end}}
                </ul>
            </nav>
        </div>
    </section>
    <footer>Privacy Notice - Terms - Content Policy - Community Guidelines - Developer Terms - DMCA Guidelines - API -
        Contribution Guidelines</footer>
</body>

<script>
    var totalPages = `{{.Pagination.TotalPages }}`;
    var currentPage = `{{.Pagination.Page }}`;
</script>
<script src="static/search.js"></script>

</html>
{{end}}